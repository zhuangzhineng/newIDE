"use strict";function initConnect(){return connect=new WebSocket(CONST.WS_GIT_HOST,"play_protocol"),connect.onopen=function(){console.log("connect open")},connect.onmessage=function(n){console.log("receive: "+n.data+" from server."),terminal.echo(String(n.data)),terminal.resume()},connect.onerror=function(n){console.log(n),terminal.error(String(n))},connect}function initTerminal(){terminal=$("#termDiv").terminal(function(n,t){""!==n&&(connect.send(JSON.stringify(buildGitCommand(n))),this.pause())},{greetings:"Git Client",name:"git",height:550,width:"calc(100% - 1em)",prompt:"git> "})}function buildGitCommand(n){return{method:"git",appid:window.localStorage.appid,user:window.localStorage.userName,cmd:n}}var $__Constant_46_js__,CONST=($__Constant_46_js__=require("./Constant.js"),$__Constant_46_js__&&$__Constant_46_js__.__esModule&&$__Constant_46_js__||{"default":$__Constant_46_js__})["default"],connect,terminal;Object.defineProperties(module.exports,{initConnect:{get:function(){return initConnect}},initTerminal:{get:function(){return initTerminal}},__esModule:{value:!0}});